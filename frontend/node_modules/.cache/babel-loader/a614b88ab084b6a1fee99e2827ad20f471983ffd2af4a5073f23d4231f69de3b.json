{"ast":null,"code":"var _jsxFileName = \"/home/heilige/cyberhack-ai/frontend/src/pages/Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Card, CardContent, CardHeader } from '../components/ui/card';\nimport { BarChart, Bar, XAxis, YAxis } from 'recharts';\nimport { Input } from '../components/ui/input';\nimport { Button } from '../components/ui/button';\nimport axios from 'axios';\n\n// Type for API response\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [target, setTarget] = useState('');\n  const [results, setResults] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const handleScan = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.post('http://localhost:8000/scans/vuln', null, {\n        params: {\n          target\n        }\n      });\n      setResults(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n    setLoading(false);\n  };\n  const handlePlaybook = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.post('http://localhost:8000/scans/playbook/run', null, {\n        params: {\n          playbook_name: 'web_app_flow.yaml'\n        }\n      });\n      setResults(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n    setLoading(false);\n  };\n  const chartData = results !== null && results !== void 0 && results.risk_score ? [{\n    name: 'Risk',\n    value: results.risk_score\n  }] : [{\n    name: 'Vulns',\n    value: 10\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        title: \"Vulnerability Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"Enter target (e.g., example.com)\",\n          value: target,\n          onChange: e => setTarget(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleScan,\n          disabled: loading,\n          children: \"Run Scan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handlePlaybook,\n          disabled: loading,\n          children: \"Run Web Playbook\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Scanning...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 23\n        }, this), results && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"pre\", {\n            children: JSON.stringify(results.results, null, 2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(BarChart, {\n            width: 600,\n            height: 300,\n            data: chartData,\n            children: [/*#__PURE__*/_jsxDEV(XAxis, {\n              dataKey: \"name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Bar, {\n              dataKey: \"value\",\n              fill: \"#8884d8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"lyCeMOOUds4KQudX7PqTQPBntCw=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","Card","CardContent","CardHeader","BarChart","Bar","XAxis","YAxis","Input","Button","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Dashboard","_s","target","setTarget","results","setResults","loading","setLoading","handleScan","res","post","params","data","err","console","error","handlePlaybook","playbook_name","chartData","risk_score","name","value","className","children","title","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","e","onClick","disabled","JSON","stringify","width","height","dataKey","fill","_c","$RefreshReg$"],"sources":["/home/heilige/cyberhack-ai/frontend/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '../components/ui/card';\nimport { BarChart, Bar, XAxis, YAxis } from 'recharts';\nimport { Input } from '../components/ui/input';\nimport { Button } from '../components/ui/button';\nimport axios from 'axios';\n\n// Type for API response\ninterface ScanResult {\n  results?: string[];\n  risk_score?: number;\n}\n\nconst Dashboard: React.FC = () => {\n  const [target, setTarget] = useState('');\n  const [results, setResults] = useState<ScanResult | null>(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleScan = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.post('http://localhost:8000/scans/vuln', null, { params: { target } });\n      setResults(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n    setLoading(false);\n  };\n\n  const handlePlaybook = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.post('http://localhost:8000/scans/playbook/run', null, { params: { playbook_name: 'web_app_flow.yaml' } });\n      setResults(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n    setLoading(false);\n  };\n\n  const chartData = results?.risk_score ? [{ name: 'Risk', value: results.risk_score }] : [{ name: 'Vulns', value: 10 }];\n\n  return (\n    <div className=\"p-4\">\n      <Card>\n        <CardHeader title=\"Vulnerability Dashboard\" />\n\n\n\n\n        <CardContent>\n          <Input\n            placeholder=\"Enter target (e.g., example.com)\"\n            value={target}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => setTarget(e.target.value)}\n          />\n          <Button onClick={handleScan} disabled={loading}>Run Scan</Button>\n          <Button onClick={handlePlaybook} disabled={loading}>Run Web Playbook</Button>\n          {loading && <p>Scanning...</p>}\n          {results && (\n            <>\n              <pre>{JSON.stringify(results.results, null, 2)}</pre>\n              <BarChart width={600} height={300} data={chartData}>\n                <XAxis dataKey=\"name\" />\n                <YAxis />\n                <Bar dataKey=\"value\" fill=\"#8884d8\" />\n              </BarChart>\n            </>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}